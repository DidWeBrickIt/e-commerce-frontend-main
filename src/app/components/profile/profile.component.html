<!-- <app-navbar></app-navbar> -->
<app-error-popup
  *ngIf="hasError"
  [errorMessage]="errorMessage"
></app-error-popup>
<div>
  <ng-container *ngIf="profile$ | async as profile">
    <!-- Banner -->

    <div class="title">
      <div class="title-text">
        <!-- <h1>Welcome, {{ profile.user.firstName }}!</h1> -->
      </div>
    </div>

    <!-- Profile Main -->

    <div class="container profile-container">
      <div class="row">
        <div class="col-4">
          <!-- Left-column -->

          <!-- Profile P ic -->

          <app-profile-pic
            *ngIf="profile$ | async as profile"
            [item]="profile.user.imageurl"
            (newPicEvent)="updatePic($event)"
          >
          </app-profile-pic>
          <!-- User  -->
          <div>
            <app-user
              *ngIf="profile$ | async as profile"
              [user]="profile.user"
              (newUserEvent)="updateUser($event)"
            ></app-user>
          </div>

          <div>
            <app-address
              *ngIf="profile$ | async as profile"
              [address]="profile.address"
              (newAddressEvent)="updateAddress($event)"
            ></app-address>
          </div>
          <div class="d-flex">
            <button
              class="btn btn-primary btn-block mb-4 mt-4"
              (click)="updateProfile()"
            >
              Save All Changes
            </button>
          </div>
        </div>
        <div class="d-flex" style="height: 200px">
          <div class="vr"></div>
        </div>
        <div class="col-7 rightColumn">
          <h3 class="">Past Orders</h3>
          <app-orders></app-orders>
        </div>
      </div>

    </div>
  </ng-container>
</div>
