{"ast":null,"code":"import { UntypedFormControl, UntypedFormGroup, Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/product.service\";\nimport * as i2 from \"@angular/router\";\nimport * as i3 from \"../navbar/navbar.component\";\n\nconst _c0 = function () {\n  return [\"/cart\"];\n};\n\nexport let CheckoutComponent = /*#__PURE__*/(() => {\n  class CheckoutComponent {\n    constructor(productService, router) {\n      this.productService = productService;\n      this.router = router;\n      this.products = [];\n      this.cartProducts = [];\n      this.finalProducts = [];\n      this.checkoutForm = new UntypedFormGroup({\n        fname: new UntypedFormControl('', Validators.required),\n        lname: new UntypedFormControl('', Validators.required),\n        cardName: new UntypedFormControl('', Validators.required),\n        detail: new UntypedFormControl('', Validators.required),\n        addOne: new UntypedFormControl('', Validators.required),\n        addTwo: new UntypedFormControl(''),\n        city: new UntypedFormControl('', Validators.required),\n        state: new UntypedFormControl('', Validators.required),\n        zipCode: new UntypedFormControl('', Validators.required),\n        country: new UntypedFormControl('', Validators.required)\n      });\n    }\n\n    ngOnInit() {\n      this.productService.getCart().subscribe(cart => {\n        this.products = cart.products;\n        this.products.forEach(element => this.cartProducts.push(element.product));\n        this.totalPrice = cart.totalPrice;\n      });\n    }\n\n    onSubmit() {\n      this.products.forEach(element => {\n        const id = element.product.id;\n        const quantity = element.quantity;\n        this.finalProducts.push({\n          id,\n          quantity\n        });\n      });\n\n      if (this.finalProducts.length > 0) {\n        this.productService.purchase(this.finalProducts).subscribe(resp => console.log(resp), err => console.log(err), () => {\n          let cart = {\n            cartCount: 0,\n            products: [],\n            totalPrice: 0.00\n          };\n          this.productService.setCart(cart);\n          this.router.navigate(['/home']);\n        });\n      } else {\n        this.router.navigate(['/home']);\n      }\n    }\n\n  }\n\n  CheckoutComponent.ɵfac = function CheckoutComponent_Factory(t) {\n    return new (t || CheckoutComponent)(i0.ɵɵdirectiveInject(i1.ProductService), i0.ɵɵdirectiveInject(i2.Router));\n  };\n\n  CheckoutComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: CheckoutComponent,\n    selectors: [[\"app-checkout\"]],\n    decls: 73,\n    vars: 4,\n    consts: [[1, \"container\", \"mt-5\", \"px-5\"], [1, \"mb-4\"], [1, \"row\"], [1, \"col-md-8\"], [1, \"card\", \"p-3\"], [1, \"text-uppercase\"], [1, \"inputbox\", \"mt-3\"], [\"type\", \"text\", \"name\", \"name\", \"required\", \"required\", 1, \"form-control\"], [1, \"col-md-6\"], [1, \"inputbox\", \"mt-3\", \"mr-2\"], [1, \"fa\", \"fa-credit-card\"], [1, \"d-flex\", \"flex-row\"], [1, \"mt-4\", \"mb-4\"], [1, \"row\", \"mt-3\"], [1, \"row\", \"mt-2\"], [1, \"mt-4\", \"mb-4\", \"d-flex\", \"justify-content-between\"], [1, \"btn\", \"btn-danger\", 3, \"routerLink\"], [1, \"btn\", \"btn-success\", \"px-3\", 3, \"click\"], [1, \"col-md-4\"], [1, \"card\", \"card-blue\", \"p-3\", \"text-white\", \"mb-3\"], [1, \"d-flex\", \"flex-row\", \"align-items-end\", \"mb-3\"], [1, \"mb-0\", \"yellow\"], [1, \"hightlight\"]],\n    template: function CheckoutComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelement(0, \"app-navbar\");\n        i0.ɵɵelementStart(1, \"div\", 0)(2, \"div\", 1)(3, \"h2\");\n        i0.ɵɵtext(4, \"Confirm order and pay\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(5, \"span\");\n        i0.ɵɵtext(6, \"please make the payment, after that you can enjoy all the features and benefits.\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(7, \"div\", 2)(8, \"div\", 3)(9, \"div\", 4)(10, \"h6\", 5);\n        i0.ɵɵtext(11, \"Payment details\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(12, \"div\", 6);\n        i0.ɵɵelement(13, \"input\", 7);\n        i0.ɵɵelementStart(14, \"span\");\n        i0.ɵɵtext(15, \"Name on card\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(16, \"div\", 2)(17, \"div\", 8)(18, \"div\", 9);\n        i0.ɵɵelement(19, \"input\", 7)(20, \"i\", 10);\n        i0.ɵɵelementStart(21, \"span\");\n        i0.ɵɵtext(22, \"Card Number\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(23, \"div\", 8)(24, \"div\", 11)(25, \"div\", 9);\n        i0.ɵɵelement(26, \"input\", 7);\n        i0.ɵɵelementStart(27, \"span\");\n        i0.ɵɵtext(28, \"Expiry\");\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(29, \"div\", 9);\n        i0.ɵɵelement(30, \"input\", 7);\n        i0.ɵɵelementStart(31, \"span\");\n        i0.ɵɵtext(32, \"CVV\");\n        i0.ɵɵelementEnd()()()()();\n        i0.ɵɵelementStart(33, \"div\", 12)(34, \"h6\", 5);\n        i0.ɵɵtext(35, \"Billing Address\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(36, \"div\", 13)(37, \"div\", 8)(38, \"div\", 9);\n        i0.ɵɵelement(39, \"input\", 7);\n        i0.ɵɵelementStart(40, \"span\");\n        i0.ɵɵtext(41, \"Street Address\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(42, \"div\", 8)(43, \"div\", 9);\n        i0.ɵɵelement(44, \"input\", 7);\n        i0.ɵɵelementStart(45, \"span\");\n        i0.ɵɵtext(46, \"City\");\n        i0.ɵɵelementEnd()()()();\n        i0.ɵɵelementStart(47, \"div\", 14)(48, \"div\", 8)(49, \"div\", 9);\n        i0.ɵɵelement(50, \"input\", 7);\n        i0.ɵɵelementStart(51, \"span\");\n        i0.ɵɵtext(52, \"State/Province\");\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(53, \"div\", 8)(54, \"div\", 9);\n        i0.ɵɵelement(55, \"input\", 7);\n        i0.ɵɵelementStart(56, \"span\");\n        i0.ɵɵtext(57, \"Zip code\");\n        i0.ɵɵelementEnd()()()()()();\n        i0.ɵɵelementStart(58, \"div\", 15)(59, \"button\", 16);\n        i0.ɵɵtext(60, \"Back to Cart\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(61, \"button\", 17);\n        i0.ɵɵlistener(\"click\", function CheckoutComponent_Template_button_click_61_listener() {\n          return ctx.onSubmit();\n        });\n        i0.ɵɵtext(62);\n        i0.ɵɵelementEnd()()();\n        i0.ɵɵelementStart(63, \"div\", 18)(64, \"div\", 19)(65, \"span\");\n        i0.ɵɵtext(66, \"You have to pay\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(67, \"div\", 20)(68, \"h1\", 21);\n        i0.ɵɵtext(69);\n        i0.ɵɵelementEnd()();\n        i0.ɵɵelementStart(70, \"div\", 22)(71, \"span\");\n        i0.ɵɵtext(72, \"100% Guaranteed Satisfaction!\");\n        i0.ɵɵelementEnd()()()()()();\n      }\n\n      if (rf & 2) {\n        i0.ɵɵadvance(59);\n        i0.ɵɵproperty(\"routerLink\", i0.ɵɵpureFunction0(3, _c0));\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate1(\"Pay $\", ctx.totalPrice, \"\");\n        i0.ɵɵadvance(7);\n        i0.ɵɵtextInterpolate1(\"$\", ctx.totalPrice, \"\");\n      }\n    },\n    dependencies: [i2.RouterLink, i3.NavbarComponent],\n    styles: [\".table[_ngcontent-%COMP%]{margin-left:3%}.btn[_ngcontent-%COMP%]{margin-left:2%}body[_ngcontent-%COMP%]{background-color:#eee}.container[_ngcontent-%COMP%]{height:100vh}.card[_ngcontent-%COMP%]{border:none}.form-control[_ngcontent-%COMP%]{border-bottom:2px solid #eee!important;border:none;font-weight:600}.form-control[_ngcontent-%COMP%]:focus{color:#495057;background-color:#fff;border-color:#8bbafe;outline:0;box-shadow:none;border-radius:0;border-bottom:2px solid blue!important}.inputbox[_ngcontent-%COMP%]{position:relative;margin-bottom:20px;width:100%}.inputbox[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{position:absolute;top:7px;left:11px;transition:.5s}.inputbox[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{position:absolute;top:13px;right:8px;transition:.5s;color:#3f51b5}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.inputbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus ~ span[_ngcontent-%COMP%]{transform:translate(-0px) translateY(-15px);font-size:12px}.inputbox[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:valid ~ span[_ngcontent-%COMP%]{transform:translate(-0px) translateY(-15px);font-size:12px}.card-blue[_ngcontent-%COMP%]{background-color:#f26925}.hightlight[_ngcontent-%COMP%]{background-color:#f26925;padding:10px;border-radius:10px;margin-top:15px;font-size:14px}.yellow[_ngcontent-%COMP%]{color:#fdcc49}.decoration[_ngcontent-%COMP%]{text-decoration:none;font-size:14px}.btn-success[_ngcontent-%COMP%]{color:#fff;background-color:#f26925;border-color:#f26925}.btn-success[_ngcontent-%COMP%]:hover{color:#fff;background-color:green;border-color:green}.decoration[_ngcontent-%COMP%]:hover{text-decoration:none;color:#fdcc49}\"]\n  });\n  return CheckoutComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}